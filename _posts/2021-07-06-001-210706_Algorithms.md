---
title : "[Python] Programmers - 체육복"
tag: [알고리즘]
categories: [algorithms]
math : true
comments: true
---

### 문제링크 : https://programmers.co.kr/learn/courses/30/lessons/42862

### ① Greedy 문제 : 앞 번호에게 주든, 뒷 번호에게 주든 누구한테든 일단 주면 된다!

- 누구한테 주는지는 중요한 문제가 아니다. 

- 여벌의 체육복을 앞 번호에게 주든, 뒷 번호에게 주든 일단 주면 되는 문제이다.

- 따라서 앞 번호가 있으면 앞 번호에게 주고, 뒷 번호가 있으면 뒷 번호에게 주는 방식으로 풀었다.

  

### ② 문제의 조건을 잘 읽자 : 본인이 체육복을 잃어버렸고, 동시에 여벌의 체육복도 가지고 있는 경우는 앞 번호나 뒷 번호가 아닌 자기 자신이 체육복을 입어야 한다.

- 제한사항을 잘 읽어보자.

- "여벌 체육복을 가져온 학생이 체육복을 도난당했을 수 있습니다. 이때 이 학생은 체육복을 하나만 도난당했다고 가정하며, 남은 체육복이 하나이기에 다른 학생에게는 체육복을 빌려줄 수 없습니다."

- 즉, 만약 [1, 2, 3]이 모두 체육복을 잃어버렸는데 `2`가 여벌의 체육복을 갖고 있으면, `1`이나 `3`에게 주어서는 안된다는 뜻이다.

- 이 제한사항에서 `Edge Case`가 발생한다.

  - N: `4`, Lost : `1, 2, 3`, Reserve : `2, 3, 4`인 경우 
    - 이 제한사항이 없다고 가정하면, `2`는 `1`에게, `3`은 `2`에게, `4`는 `3`에게 줄 수 있다. 
    - 그러면 최대 `4`명이 체육복을 입을 수 있다.
    - 그러나 제한사항으로 인해 `2`와 `3`은 여벌의 체육복을 본인이 입어야 한다. 
    - 따라서 Lost에는 `1`이 남고, Reserve에는 `4`가 남게된다. `4`는 `2`에게 체육복을 줄 수 없다. → 최대 `3`명이 체육복을 입을 수 있다.

- 항상 제한사항을 잘 읽고 여기서 어떤 `Edge Case`가 발생할 수 있는지 생각해보자.

  

### ③ Remove의 함정 :  List에서 순회를 하면서 해당 리스트의 원소를 remove 하는 경우, 순회가 제대로 이루어지지 않음을 명심하자!

- 문제를 맞게 풀었다고 생각했는데, 계속 `index out of range` 문제가 발생했다.

- 코드를 돌아보니, `for문` 안에서 `remove` 함수를 사용하고 있었던 것이다.

  - `for문`을 순회하는 중에 원소를 제거하면 `List`의 길이가 계속 달라지게 된다. 예를 들어, 특정 리스트에서 홀수를 제거하는 작업을 해보자.

    ```python
    lst = [1,2,3,4,5]
    for i in lst:
        if i in [1, 2]:
            lst.remove(i)
    print(lst) # [2,3,4,5]
    ```

    - 위와 같이 코드를 작성하면 어떤 값이 나올까? `[2,3,4,5]` 가 나온다. 왜?
    - [1,2,3,4,5]에서 `0`번째 인덱스에 있는 `1`을 가져온다.
    - `[1, 2]`에 포함되므로 `lst`에서 삭제된다. 이 때 `lst`는 [2,3,4,5]가 된다.
    - 다음 번은 `1`번째 인덱스에 있는 원소를 가져와야 하는데, `lst`는 [2,3,4,5]이므로 `1`번째 인덱스에 있는 `3`을 가져온다. **즉, `2`를 건너뛰게 된다!**
    - 따라서 `for`문의 대상이 되는 리스트의 원소는 건드리지 말자!

  - 그럼 어떻게 하는게 좋을까?

    - 빈 리스트를 하나 만들어서 해결하자.

    ```python
    lst = [1,2,3,4,5]
    new_lst = []
    for i in lst:
    	if i in [1, 2]:
    		continue
    	else:
    		new_lst.append(i)
    print(new_lst) # [3,4,5]
    ```

  ### ④ 전체 문제의 풀이

  ```python
  def solution(n, lost, reserve):
      answer = n - len(lost) # 일단 체육복 잃어버린 친구들을 모두 제외하자.
      residual = [] # 자기자신이 잃어버린 경우를 제외하고, 여벌의 체육복을 가진 친구들을 넣는 리스트.
      while len(reserve):
          r = reserve.pop() # 한 명씩 뽑아서
          if r in lost: # 본인이 체육복을 잃어버린 경우
              answer += 1 # 본인이 입으니까 -> answer += 1
              lost.remove(r) # 잃어버린 친구에서 제외.
          else:
              residual.append(r) # 아닌 경우는 residual로.
      for r in residual:
          if (r-1) in lost: # 앞 번호 친구가 잃어버린 경우
              answer += 1
              lost.remove(r-1)
          elif (r+1) in lost: # 뒷 번호 친구가 잃어버린 경우
              answer += 1
              lost.remove(r+1)
      return answer
  ```

  