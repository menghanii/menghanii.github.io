---
title: 빅데이터 통계분석 [1]
description : 빅데이터 통계분석 1강
date: 2020-10-21
categories: [통계]
tags: [변수, 확률분포]
math: true
comments: true
---

## Random Variable(변수)

---

변수란, 어떠한 시행의 결과로 나오는 여러개의 값 중에서 하나의 값을 취하는 어떤 것을 의미한다.
$$
P(X = x)
$$
은 변수 X 가 x라는 값을 가질 **확률**을 의미하는 수식이며, x 값에 해당하는 경우의 수 / X가 취할 수 있는 모든 경우의 수로 나타낼 수 있다.


변수의 종류로는 ① 이산변수 : 취할 수 있는 값이 유한개, ② 연속변수 : 취할 수 있는 값이 무한함 

이 있다.

## Probability Distribution(확률분포)

---

### 정의

하나의 변수가 취할 수 있는 값과 - 그에 대한 확률의 **대응관계**. 예를 들어, 주사위를 던졌을 때의 확률 분포는 1이 나올 확률 1/6, 2가 나올 확률 1/6, ... , 6이 나올 확률 1/6 이 된다.

### 종류

*이산확률분포*와 *연속확률분포*가 있다. 먼저 이산확률분포는, '주사위 던지기'를 생각하면 된다. 주사위를 던졌을 때 나오는 경우의 수는 [1, 2, 3, 4, 5, 6]의 6개이고 **셀 수 있다**. 또한 각 숫자가 나올 확률은 모두 1/6로 동일하다.

| 이산 변수 - 주사위 값 | 1    | 2    | 3    | 4    | 5    | 6    |
| --------------------- | ---- | ---- | ---- | ---- | ---- | ---- |
| 확률                  | 1/6  | 1/6  | 1/6  | 1/6  | 1/6  | 1/6  |

#### <br/>

한편 연속확률분포는, '대한민국 남성의 키'를 생각해보면 된다. 길거리에서 지나다니는 대한민국 남성을 붙잡았을 때, 이사람의 키가 될 수 있는 경우의 수는 168cm, 170.3cm, 170.33cm, ... 등 무수히 많다. 즉 아래와 같은 확률 분포의 모양을 갖는다.<br/>

![image-20201021202246431](https://user-images.githubusercontent.com/37925813/96713779-16221f80-13dc-11eb-8a7c-e6eaf82ecf09.png)

연속 확률 분포에서 X 값이 단일 값을 취하는 것은 의미가 없다. 예를 들어, 위의 그림에서 콕 찝어서 X = 0일 확률은 0이다. 따라서 연속확률분포에서는 단일 값이 아니라 변수 X가 **특정 구간(interval)**에 속할 확률을 구해야 하는데, 이는 적분으로 할 수 있다. 

### 확률밀도함수(pdf, probability density function)

![image-20201021203202389](https://user-images.githubusercontent.com/37925813/96714045-8892ff80-13dc-11eb-80be-9103e6f8ddc6.png)

연속 변수의 확률 밀도 함수는 위와 같이 생겼다. 확률 밀도 함수의 모든 영역의 합은 1이다.

### pdf vs cdf (확률밀도함수 vs 누적분포함수)

→ 요거는 추후에 보강.


### 확률밀도함수의 특성

확률밀도함수의 모양을 결정 짓는 두 가지 특성은 ① 분포의 평균(Expectation)과 ② 분산(Variance) 이다. 



## 평균

### 이산변수의 평균<br/><br/>

$$
E(X) = \sum_{i=1} ^{n}x_iP(x_i)
$$



### 연속변수의 평균<br/><br/>

$$
E(X) = \int_{-\infty}^{\infty}xf(x)dx
$$

$$
E[g(x)] = \int_{-\infty}^{\infty}g(x)f(x)dx
$$

### 평균의 특성

① E(c) = c : 상수의 평균은 해당 상수이다.

② E(cX + d) = c * E(X) + d

③ E(aX + bY) = a E(X) + b E(Y)

④ E(X | X) = X



## 분산

### 이산변수의 분산 : X 제곱의 평균 - X 평균의 제곱<br/><br/>

$$
var(X) = E[(X-E(X))^2]
$$



### 연속변수의 분산<br/><br/>

$$
E[(X-\mu_X)^2] = \int_{-\infty}^{\infty}(x-\mu_X)^2f(x)dx
$$

## 공분산(Covariance)

두 변수가 같이 변하는 정도를 나타낸다. 두 변수의 평균으로 나타내어진다.<br/><br/>


$$
cov(X, Y) = E[(X-\mu_X)(Y-\mu_Y)]
$$

$$
=\ E[XY-\mu_XY-\mu_YX+\mu_X\mu_Y]
$$

$$
= E(XY) -\mu_XE(Y) - \mu_YE(X) + \mu_X\mu_Y
$$

$$
\text(\mu_X = E(X), \mu_Y = E(Y)이므로) 
$$

$$
= E(XY) - E(X)E(Y) - E(X)E(Y) + E(X)E(Y)
$$

$$
= E(XY) - E(X)E(Y)
$$

$$
= E(XY) - \mu_X\mu_Y
$$

만약, X와 Y가 독립이라면, cov(X, Y) = 0 이다.<br/><br/>


$$
\text{if X, Y are independent,}\ f(X, Y) = f(X)f(Y)
$$

$$
E(XY) = E(X)E(Y) = \mu_X\mu_Y
$$

$$
\therefore cov(X, Y) = E(XY) - \mu_X\mu_Y = 0
$$



## 상관계수(Correlation)

공분산으로부터 도출된다. -1에서 1까지의 값을 가지며, -1에 가까울수록 두 변수간 음의 상관관계가, 1에 가까울수록 양의 상관관계가 존재한다.<br/><br/>


$$
corr(X, Y)\ =\ \rho\ =\ \frac{cov(X,Y)}{\sigma_X\sigma_Y}
$$

$$
-1 \le \rho \le 1
$$



## 기본적인 확률분포

---

### 확률분포란 무엇이고, 왜 중요한가?

확률분포를 안다고 함은 확률분포를 나타내는 확률분포함수를 안다는 것이고, 확률분포함수를 안다는 것은 함수식을 구성하는 parameter를 안다는 것입니다. 따라서, 어떤 확률변수의 분포를 안다는 것은 매우 의미있는 정보를 얻는 것이라고 할 수 있습니다. **분포를 알면 어떤 X값이든 그 X가 발생할 확률을 얻을 수 있습니다.** 그래서 모수를 추정하는 많은 방법론들을 통계학에서 연구하고 발전시켰습니다.  (''숨니의 무작정 따라하기''에서 발췌)



### 분포의 종류

이산변수에 대한 확률분포로는 Bernoulli, Binomial, Multinomial, Poisson 이 있고,

연속변수에 대한 확률분포로는 Normal, Uniform, Chi-square, student-t, F, Exponential 등이 있다.



### 천리길도 정규분포부터

$$
\frac{1}{\sigma(\sqrt{2\pi})}e^\frac{-1}{2}(\frac{X-\mu}{\sigma})^2
$$

<br/>
$$
X \text{~}N(\mu, \sigma^2)
$$

정규분포의 특성으로는 ① 평균을 중심으로 좌우대칭이며, ② 평균=중앙값=최빈값이며, ③ 중앙으로 갈수록 두꺼워지고(denser), 양 끝으로 갈수록 얕아진다. ④ 정규분포는 평균과 분산(혹은 표준편차)의 두 개의 모수(parameter)로 이루어져 있다. ⑤ 평균을 중심으로 1개의 표준편차 만큼 +- 한 영역은 전체의 68%를 차지하며, ⑥ 2개의 표준편차만큼 +- 할 경우 대략 95% 정도의 영역을 차지한다.



### 정규분포에서의 계산을 쉽게 하자! 표준정규분포

X가 기존에 어떤 정규분포이든지, 이를 표준화하게되면 확률을 구하기가 쉬워진다. 표준화한 새로운 분포를 표준정규분포라 하는데, 표준정규분포는 평균 0, 분산 1을 따르는 분포이다. <br/><br/>


$$
z\ \text{~}\ N(0, 1)
$$
<br/>그럼 어떻게 표준화하는가?<br/><br/>
$$
z = \frac{X-\mu}{\sigma}
$$
<br/>평균을 빼고, 표준편차로 나눈다.

ex) 만약 변수 X가 정규분포를 따를 때, X가 x1과 x2 사이에 존재할 확률을 구하고 싶다면?<br/><br/>
$$
P(x_1 \le X \le x_2) = P(\frac{x_1-\mu}{\sigma}\le z \le \frac{x_2-\mu}{\sigma}) = P(z_1 \le z \le z_2)
$$
<br/>표준화 하여 z1과 z2 값을 구한 후,  Z-score distribution table을 통해 확인한다.



### 1.96과 -1.96

표준정규분포에서 1.96이라는 숫자는 중요한 의미를 갖는다. 1.96을 기준으로 오른쪽, -1.96을 기준으로 왼쪽 영역이 각각 0.025, 즉 2.5%의 확률을 갖는 영역이기 때문이다. 이 value를 기준으로 **'통계적으로 유의한지'**가 결정된다. 